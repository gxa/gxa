












<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
	<head>
		<title>Gene Expression Atlas - Large Scale Meta-Analysis of Public Microarray Data</title>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <style type="text/css" media="all">
            @import url("./css/maven-base.css");
            @import url("./css/default.css");
        </style>
	</head>
	<body>
		<div id="mainOuter">
			<div id="headerOuter">
                <div id="logo">
                                <a href="index.html" id="bannerLeft">
    
                                            <img src="images/atlas-ebi-logo.png" alt="" />
    
            </a>
                      </div>
				<div id="topNav">
                    <div id="title">Gene Expression Atlas</div>
                    <div id="toplinks">
					                        <a href="../../arrayexpress/gxa">Atlas</a>
                          <a href="../../arrayexpress/gxa">Support</a>
                          <a href="../../arrayexpress/gxa">Documentation</a>
                          <a href="index.html">Home</a>
                          <a href="getting-started.html">Getting Started</a>
                          <a href="installation.html">Installation</a>
                          <a href="documentation.html">Documentation</a>
                            </div>
					<!-- 										    																    											    											    											    																    											    											    																    											    																                                                                                                                                                                                                                                                                                                                                                                                                                            										 -->
				</div>
            </div>
			<div id="centerOuter">
				<!--content-->
				<div id="contentOuter">
					<div class="section"><h2>The Atlas IndexBuilder API</h2>
<p>The IndexBuilder is optimised for use by spring driven applications. If you use spring, you can quickly and easily get an index builder working - you just need to declare an atlas datasource bean (pointing to your Atlas-schema database) and an index location bean (that points to a directory on the local filesystem where the index will be built).</p>
<p>Your configuration should look something like this:</p>
<div class="source"><pre>  &lt;bean name=&quot;indexBuilder&quot;
        class=&quot;uk.ac.ebi.gxa.index.builder.DefaultIndexBuilder&quot;&gt;
    &lt;!-- resource beans --&gt;
    &lt;property name=&quot;atlasDataSource&quot; ref=&quot;atlasDatasource&quot; /&gt;
    &lt;property name=&quot;indexLocation&quot; ref=&quot;atlasIndex&quot; /&gt;
    &lt;!-- configures behaviour of indexBuilder, whether we want genes and experiments --&gt;
    &lt;property name=&quot;includeGenes&quot; value=&quot;true&quot; /&gt;
    &lt;property name=&quot;includeExperiments&quot; value=&quot;true&quot; /&gt;
  &lt;/bean&gt;</pre>
</div>
<p>The first part of this declaration indicates the resources the indexBuilder bean will use, as mentioned above. The second part configures the behaviour of the indexBuilder.</p>
<ul><li>IndexBuilder Behaviour<p>The IndexBuilder can be set up to build an index of experiment-driven information, gene-driven information, or both. The experiment-driven index optimises queries by experiment, and the gene-driven index is optimised for queries by gene. The situation shown above is the default - so genes and experiments are included by default. In fact, the property declarations for &quot;includeGenes&quot; and &quot;includeExperiments&quot; in this case aren't even required, they're included for the sake of completeness. However, you should include them if you want to override the default behaviour.</p>
</li>
<li>IndexBuilder Resources<p>In the above examples, this assumes the beans &quot;atlasDatasource&quot; and &quot;atlasIndex&quot; are declared elsewhere in this configuration file. In the Atlas web application, this is done by a JNDI lookup from the container context, but it would be straightforward to declare these beans directly. You could use something like...</p>
<div class="source"><pre>  &lt;bean id=&quot;atlasDatasource&quot; class=&quot;org.springframework.jdbc.datasource.SingleConnectionDataSource&quot;&gt;
    &lt;property name=&quot;driverClassName&quot; value=&quot;my.jdbc.Driver&quot; /&gt;
    &lt;property name=&quot;url&quot; value=&quot;jdbc:dbms://my.hostname/my.db&quot; /&gt;
    &lt;property name=&quot;username&quot; value=&quot;user&quot; /&gt;
    &lt;property name=&quot;password&quot; value=&quot;password&quot; /&gt;
    &lt;property name=&quot;autoCommit&quot; value=&quot;false&quot; /&gt;
  &lt;/bean&gt;</pre>
</div>
<p>and</p>
<div class="source"><pre>  &lt;bean id=&quot;atlasIndex&quot; class=&quot;java.io.File&quot;&gt;
    &lt;constructor-arg value=&quot;/path/to/my/indexdir&quot; /&gt;
  &lt;/bean&gt;</pre>
</div>
<p>Obviously, you can use any datasource class that implements java.sql.DataSource. You don't have to use the spring SingleConnectionDataSource class, this is just an example.</p>
</li>
</ul>
</div>

				</div>
				<!--~content-->
				<div id="menuOuter">
					            <ul>
                                  <li><span>Parent Project</span>
                                <ul>
                                            
     
     <li>

              <a href="../../gxa/index.html">Gene Expression Atlas</a>
     
     </li>
                  </ul>
              </li>
                                                <li><span>User Documentation</span>
                                <ul>
                                            
     
     <li>

              <a href="index.html">Home</a>
     
     </li>
                                            
     
     <li>

              <a href="getting-started.html">Getting Started</a>
     
     </li>
                                            
     
     <li>

              <a href="installation.html">Installation</a>
     
     </li>
                                            
     
     <li>

              <a href="documentation.html">Documentation</a>
     
     </li>
                  </ul>
              </li>
                                                <li><span>Release Info</span>
                                <ul>
                                            
     
     <li>

              <a href="alpha-release.html">Alpha release</a>
     
     </li>
                                            
     
     <li>

              <a href="beta-release.html">Beta release</a>
     
     </li>
                                            
     
     <li>

              <a href="beta2-release.html">Beta 2 release</a>
     
     </li>
                  </ul>
              </li>
                                                <li><span>Project Links</span>
                                <ul>
                                            
     
     <li>

              <a href="../../gxa">GXA at EBI</a>
     
     </li>
                                            
     
     <li>

              <a href="http://github.com/ostolop/gxa">GXA at GitHub</a>
     
     </li>
                  </ul>
              </li>
                                                <li><span>Project Documentation</span>
                                <ul>
                                                            
                                                                                                                                                                                                                                                                                                                                                                                                                                                         
                            
     <li class ="collapsed">

              <a href="project-info.html">Project Information</a>
     
                   </li>
                  </ul>
              </li>
                      
        <li class="blank">&#xA0;</li></ul>
    					<div id="poweredBy">
						<a href="http://maven.apache.org/" title="Built by Maven">
        		    		<img alt="Built by Maven" src="images/maven-feather.png">
				        </a>
					</div>
				</div>
			</div>
			<div class="clear">&#xA0;</div>
		</div>
		<div id="footerOuter">
			<span>            2010
    	&#169;
      </span>
		</div>
	</body>
</html>
